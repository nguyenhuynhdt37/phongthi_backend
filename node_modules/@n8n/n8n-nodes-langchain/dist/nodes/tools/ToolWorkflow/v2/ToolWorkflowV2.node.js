"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ToolWorkflowV2 = void 0;
const methods_1 = require("./methods");
const WorkflowToolService_1 = require("./utils/WorkflowToolService");
const versionDescription_1 = require("./versionDescription");
class ToolWorkflowV2 {
    constructor(baseDescription) {
        this.methods = {
            localResourceMapping: methods_1.localResourceMapping,
        };
        this.description = {
            ...baseDescription,
            ...versionDescription_1.versionDescription,
        };
    }
    async supplyData(itemIndex) {
        const returnAllItems = this.getNode().typeVersion > 2;
        const workflowToolService = new WorkflowToolService_1.WorkflowToolService(this, { returnAllItems });
        const name = this.getNodeParameter('name', itemIndex);
        const description = this.getNodeParameter('description', itemIndex);
        const tool = await workflowToolService.createTool({
            name,
            description,
            itemIndex,
        });
        return { response: tool };
    }
}
exports.ToolWorkflowV2 = ToolWorkflowV2;
//# sourceMappingURL=ToolWorkflowV2.node.js.map