"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handleRetrieveOperation = handleRetrieveOperation;
const helpers_1 = require("../../../../../utils/helpers");
const logWrapper_1 = require("../../../../../utils/logWrapper");
async function handleRetrieveOperation(context, args, embeddings, itemIndex) {
    const filter = (0, helpers_1.getMetadataFiltersValues)(context, itemIndex);
    const vectorStore = await args.getVectorStoreClient(context, filter, embeddings, itemIndex);
    return {
        response: (0, logWrapper_1.logWrapper)(vectorStore, context),
        closeFunction: async () => {
            args.releaseVectorStoreClient?.(vectorStore);
        },
    };
}
//# sourceMappingURL=retrieveOperation.js.map